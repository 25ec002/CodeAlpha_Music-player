<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Music Player</title>

<style>
body {
    background: #121212;
    font-family: Arial, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    color: white;
}

.player {
    background: #1e1e1e;
    width: 320px;
    padding: 20px;
    border-radius: 15px;
    text-align: center;
}

.song-info h3 {
    margin: 5px 0;
}

.song-info p {
    font-size: 14px;
    color: #aaa;
}

.controls button {
    background: #333;
    color: white;
    border: none;
    padding: 10px 15px;
    margin: 10px 5px;
    font-size: 18px;
    border-radius: 50%;
    cursor: pointer;
}

.controls button:hover {
    background: #555;
}

.progress-container {
    width: 100%;
    height: 5px;
    background: #444;
    margin: 15px 0;
    cursor: pointer;
}

.progress {
    height: 5px;
    width: 0%;
    background: #1db954;
}

.time {
    display: flex;
    justify-content: space-between;
    font-size: 12px;
}

.volume {
    margin-top: 10px;
}

.playlist {
    margin-top: 15px;
    text-align: left;
}

.playlist li {
    list-style: none;
    padding: 5px;
    cursor: pointer;
}

.playlist li:hover {
    background: #333;
}
</style>
</head>

<body>

<div class="player">
    <div class="song-info">
        <h3 id="title">Song Title</h3>
        <p id="artist">Artist</p>
    </div>

    <audio id="audio"></audio>

    <div class="progress-container" onclick="setProgress(event)">
        <div class="progress" id="progress"></div>
    </div>

    <div class="time">
        <span id="currentTime">0:00</span>
        <span id="duration">0:00</span>
    </div>

    <div class="controls">
        <button onclick="prevSong()">⏮</button>
        <button onclick="playPause()">▶️</button>
        <button onclick="nextSong()">⏭</button>
    </div>

    <div class="volume">
        Volume
        <input type="range" min="0" max="1" step="0.01" onchange="setVolume(this.value)">
    </div>

    <ul class="playlist" id="playlist"></ul>
</div>

<script>
const songs = [
    {
        title: "Sample Song 1",
        artist: "Artist A",
        src: "song1.mp3"
    },
    {
        title: "Sample Song 2",
        artist: "Artist B",
        src: "song2.mp3"
    },
    {
        title: "Sample Song 3",
        artist: "Artist C",
        src: "song3.mp3"
    }
];

let songIndex = 0;
const audio = document.getElementById("audio");
const title = document.getElementById("title");
const artist = document.getElementById("artist");
const progress = document.getElementById("progress");
const currentTimeEl = document.getElementById("currentTime");
const durationEl = document.getElementById("duration");
const playlistEl = document.getElementById("playlist");

loadSong(songIndex);
createPlaylist();

function loadSong(index) {
    title.innerText = songs[index].title;
    artist.innerText = songs[index].artist;
    audio.src = songs[index].src;
}

function playPause() {
    if (audio.paused) {
        audio.play();
    } else {
        audio.pause();
    }
}

function nextSong() {
    songIndex = (songIndex + 1) % songs.length;
    loadSong(songIndex);
    audio.play();
}

function prevSong() {
    songIndex = (songIndex - 1 + songs.length) % songs.length;
    loadSong(songIndex);
    audio.play();
}

audio.addEventListener("timeupdate", updateProgress);
audio.addEventListener("ended", nextSong); // autoplay

function updateProgress() {
    const percent = (audio.currentTime / audio.duration) * 100;
    progress.style.width = percent + "%";

    currentTimeEl.innerText = formatTime(audio.currentTime);
    durationEl.innerText = formatTime(audio.duration);
}

function setProgress(e) {
    const width = e.target.clientWidth;
    const clickX = e.offsetX;
    audio.currentTime = (clickX / width) * audio.duration;
}

function setVolume(value) {
    audio.volume = value;
}

function formatTime(time) {
    if (isNaN(time)) return "0:00";
    const minutes = Math.floor(time / 60);
    const seconds = Math.floor(time % 60).toString().padStart(2, "0");
    return `${minutes}:${seconds}`;
}

function createPlaylist() {
    songs.forEach((song, index) => {
        const li = document.createElement("li");
        li.innerText = song.title;
        li.onclick = () => {
            songIndex = index;
            loadSong(songIndex);
            audio.play();
        };
        playlistEl.appendChild(li);
    });
}
</script>

</body>
</html>